
<!DOCTYPE html>
<html class="no-js" lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="generator" content="Hugo 0.15" />

    <base href="http://www.shinayoshi.net/" />
    <title>shinayoshi&#39;s note</title>
    <link rel="canonical" href="http://www.shinayoshi.net/" />
    <link href="http://www.shinayoshi.net//img/favicon.ico" type="image/vnd.microsoft.icon" rel="icon" />
    <link href="" rel="alternate" title="shinayoshi&#39;s note" type="application/rss+xml" />

    
    <link href="http://www.shinayoshi.net//css/bootstrap.min.css" rel="stylesheet">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://yandex.st/highlightjs/8.0/styles/default.min.css">

    
    
    
  </head>
  <body>
    <div id="wrap">


      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" title="toggle navbar" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="http://www.shinayoshi.net//">shinayoshi&#39;s note</a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <li><a href="http://www.shinayoshi.net//">Home</a></li>
                <li><a href="http://www.shinayoshi.net//post/">All posts</a></li>
              </ul>
              <ul class="nav navbar-nav navbar-right">
                
                <li>
                  <form class="search navbar-form navbar-right" role="search" action="https://www.google.com/search" method="GET">
                    <input type="hidden" name="sitesearch" value="www.shinayoshi.net" />
                    <div class="form-group">
                      <input type="text" class="form-control" placeholder="Search" name="q" />
                    </div>
                  </form>
                </li>
                
                <li>
                  <a class="subscribe-rss" href="" title="subscribe via RSS">
                    <i class="fa fa-rss fa-lg"></i>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </header>


      <div id="main" role="main" class="container">
        <div id="content">
          <div class="row">
            <div class="page-content col-md-9">
              <article>
                <div class="title">
                  <h1>家庭内インターネット接続環境を構築する その3</h1>
                  <p>
                    <span class="label label-primary">Sun Jan 1, 2017</span> in
                    
                    
                    <a href="http://www.shinayoshi.net//categories/server">server</a>
                     using tags
                    
                    
                    <a href="http://www.shinayoshi.net//tags/raspberrypi">raspberrypi</a>
                    
                     , 
                    <a href="http://www.shinayoshi.net//tags/home-network">home-network</a>
                    
                     , 
                    <a href="http://www.shinayoshi.net//tags/homenas1">homenas1</a>
                    
                  </p>
                </div>
                <div class="panel panel-info">
                  <div class="panel-heading">
                    <p class="panel-title">Table of Contents</p>
                  </div>
                  <div class="panel-body">
                    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#raspberry-pi-2でファイルサーバ構築-mdadm:edd1b43dbf3196488adbf69244ff43d1">Raspberry Pi 2でファイルサーバ構築(mdadm)</a></li>
<li><a href="#用意したもの:edd1b43dbf3196488adbf69244ff43d1">用意したもの</a></li>
<li><a href="#物理構成:edd1b43dbf3196488adbf69244ff43d1">物理構成</a></li>
<li><a href="#設定:edd1b43dbf3196488adbf69244ff43d1">設定</a>
<ul>
<li><a href="#mdadmのインストール:edd1b43dbf3196488adbf69244ff43d1">mdadmのインストール</a></li>
<li><a href="#usbストレージの初期化:edd1b43dbf3196488adbf69244ff43d1">USBストレージの初期化</a></li>
<li><a href="#mdadmでraid1の構築:edd1b43dbf3196488adbf69244ff43d1">mdadmでraid1の構築</a></li>
<li><a href="#raid1のフォーマット:edd1b43dbf3196488adbf69244ff43d1">raid1のフォーマット</a></li>
<li><a href="#raid1デバイスをマウント:edd1b43dbf3196488adbf69244ff43d1">raid1デバイスをマウント</a></li>
<li><a href="#起動時にraid1デバイスをマウントする:edd1b43dbf3196488adbf69244ff43d1">起動時にraid1デバイスをマウントする</a></li>
<li><a href="#raid1-backup用ストレージの設定:edd1b43dbf3196488adbf69244ff43d1">RAID1 Backup用ストレージの設定</a></li>
</ul></li>
<li><a href="#参考url:edd1b43dbf3196488adbf69244ff43d1">参考URL</a></li>
</ul></li>
</ul>
</nav>
                  </div>
                </div>
                <div class="contents">
                  

<p>FortiGate 60DとRaspberry Piを使用して家庭内インターネット接続環境を構築します。
最終的には以下のような構成を想定しています。</p>

<p><img src="/img/20161022_01/home-network.png" alt="home network" width="640px" /></p>

<p>今回は<code>homenas1</code>を構築していきます。</p>

<h2 id="raspberry-pi-2でファイルサーバ構築-mdadm:edd1b43dbf3196488adbf69244ff43d1">Raspberry Pi 2でファイルサーバ構築(mdadm)</h2>

<p>家庭内インターネット接続環境で使用するファイルサーバを構築します。
ファイルサーバの利用目的は以下の3つです。</p>

<ol>
<li>LAN内のファイル共有</li>
<li>Raspberry Piバックアップ</li>
<li>Syslog等のログ保管</li>
</ol>

<p>今回はUSB Storageを使用する準備までを行います。
次回はNFSやSambaの設定を行っていきます。</p>

<h2 id="用意したもの:edd1b43dbf3196488adbf69244ff43d1">用意したもの</h2>

<table>
<thead>
<tr>
<th align="left">品名</th>
<th align="right">台数</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Raspberry Pi 2</td>
<td align="right">1台</td>
</tr>

<tr>
<td align="left">USB Storage 1TB</td>
<td align="right">3台</td>
</tr>

<tr>
<td align="left">USB Hub</td>
<td align="right">1台</td>
</tr>
</tbody>
</table>

<h2 id="物理構成:edd1b43dbf3196488adbf69244ff43d1">物理構成</h2>

<p>物理構成は以下のような構成を想定しています。</p>

<p><img src="/img/20170101_01/physical_composition.png" alt="physical composition" width="320px" /></p>

<h2 id="設定:edd1b43dbf3196488adbf69244ff43d1">設定</h2>

<h3 id="mdadmのインストール:edd1b43dbf3196488adbf69244ff43d1">mdadmのインストール</h3>

<pre><code>$ sudo apt-get update
$ sudo apt-get upgrade
$ sudo apt-get install mdadm
パッケージリストを読み込んでいます... 完了
依存関係ツリーを作成しています                
状態情報を読み取っています... 完了
以下の追加パッケージがインストールされます:
  bsd-mailx exim4-base exim4-config exim4-daemon-light liblockfile-bin
  liblockfile1
提案パッケージ:
  mail-reader eximon4 exim4-doc-html exim4-doc-info spf-tools-perl swaks
推奨パッケージ:
  mailx default-mta mail-transport-agent
以下のパッケージが新たにインストールされます:
  bsd-mailx exim4-base exim4-config exim4-daemon-light liblockfile-bin
  liblockfile1 mdadm
アップグレード: 0 個、新規インストール: 7 個、削除: 0 個、保留: 1 個。
2,630 kB のアーカイブを取得する必要があります。
この操作後に追加で 4,960 kB のディスク容量が消費されます。
続行しますか? [Y/n] y
取得:1 http://mirrordirector.raspbian.org/raspbian/ jessie/main liblockfile-bin armhf 1.09-6 [18.2 kB]
取得:2 http://mirrordirector.raspbian.org/raspbian/ jessie/main liblockfile1 armhf 1.09-6 [14.7 kB]
取得:3 http://mirrordirector.raspbian.org/raspbian/ jessie/main exim4-config all 4.84.2-2+deb8u2 [503 kB]
取得:4 http://mirrordirector.raspbian.org/raspbian/ jessie/main exim4-base armhf 4.84.2-2+deb8u2 [1,046 kB]
取得:5 http://mirrordirector.raspbian.org/raspbian/ jessie/main exim4-daemon-light armhf 4.84.2-2+deb8u2 [578 kB]
取得:6 http://mirrordirector.raspbian.org/raspbian/ jessie/main bsd-mailx armhf 8.1.2-0.20141216cvs-2 [74.3 kB]
取得:7 http://mirrordirector.raspbian.org/raspbian/ jessie/main mdadm armhf 3.3.2-5+deb8u1 [397 kB]
2,630 kB を 5秒 で取得しました (467 kB/s)
パッケージを事前設定しています ...
以前に未選択のパッケージ liblockfile-bin を選択しています。
(データベースを読み込んでいます ... 現在 31247 個のファイルとディレクトリがインストールされています。)
.../liblockfile-bin_1.09-6_armhf.deb を展開する準備をしています ...
liblockfile-bin (1.09-6) を展開しています...
以前に未選択のパッケージ liblockfile1:armhf を選択しています。
.../liblockfile1_1.09-6_armhf.deb を展開する準備をしています ...
liblockfile1:armhf (1.09-6) を展開しています...
以前に未選択のパッケージ exim4-config を選択しています。
.../exim4-config_4.84.2-2+deb8u2_all.deb を展開する準備をしています ...
exim4-config (4.84.2-2+deb8u2) を展開しています...
以前に未選択のパッケージ exim4-base を選択しています。
.../exim4-base_4.84.2-2+deb8u2_armhf.deb を展開する準備をしています ...
exim4-base (4.84.2-2+deb8u2) を展開しています...
以前に未選択のパッケージ exim4-daemon-light を選択しています。
.../exim4-daemon-light_4.84.2-2+deb8u2_armhf.deb を展開する準備をしています ...
exim4-daemon-light (4.84.2-2+deb8u2) を展開しています...
以前に未選択のパッケージ bsd-mailx を選択しています。
.../bsd-mailx_8.1.2-0.20141216cvs-2_armhf.deb を展開する準備をしています ...
bsd-mailx (8.1.2-0.20141216cvs-2) を展開しています...
以前に未選択のパッケージ mdadm を選択しています。
.../mdadm_3.3.2-5+deb8u1_armhf.deb を展開する準備をしています ...
mdadm (3.3.2-5+deb8u1) を展開しています...
man-db (2.7.0.2-5) のトリガを処理しています ...
systemd (215-17+deb8u5) のトリガを処理しています ...
liblockfile-bin (1.09-6) を設定しています ...
liblockfile1:armhf (1.09-6) を設定しています ...
exim4-config (4.84.2-2+deb8u2) を設定しています ...
Adding system-user for exim (v4)
exim4-base (4.84.2-2+deb8u2) を設定しています ...
exim: DB upgrade, deleting hints-db
exim4-daemon-light (4.84.2-2+deb8u2) を設定しています ...
bsd-mailx (8.1.2-0.20141216cvs-2) を設定しています ...
update-alternatives: /usr/bin/mailx (mailx) を提供するために自動モードで /usr/bin/bsd-mailx を使います
mdadm (3.3.2-5+deb8u1) を設定しています ...
 ┌────────────────────────┤ mdadm を設定しています ├─────────────────────────┐
 │                                                                           │ 
 │ あなたのシステムのルートファイルシステムが MD アレイ (RAID) 上に配置され  | 
 │ ているならば、ブートシーケンスの初期段階で MD アレイを開始する必要があり  | 
 │ ます。ルートファイルシステムが MD のような論理ボリューム (LVM) 上にある   | 
 │ 場合は、構成しているアレイ全ての開始が必要です。                          | 
 │                                                                           | 
 │ どのアレイがルートファイルシステムの立ち上げに必要かを正確に知っており、  | 
 │ ブートシーケンスの後の時点まで意図しているもの以外全てのアレイ起動を遅ら  | 
 │ せたい場合、ここで最初に起動するアレイを入力してください。そうでない場合  | 
 │ 、'all' と入力して単に全ての利用可能なアレイを最初に立ち上げてください。  | 
 │                                                                           | 
 │ ルートファイルシステムのために、どのアレイも必要ない、あるいはどのアレイ  | 
 │ も起動したくは無いという場合は、空白のままに (あるいは 'none' と入力) し  | 
 │ てください。これは、カーネルで自動的に起動される場合や起動時にはアレイは  | 
 │ 不要であるという場合です。                                                | 
 │                                                                           | 
 │                                  &lt;了解&gt;                                   | 
 │                                                                           │ 
 └───────────────────────────────────────────────────────────────────────────┘ 

 ┌─────────┤ mdadm を設定しています ├─────────┐
 │ ルートファイルシステムに必要な MD アレイ:  │ 
 │                                            │ 
 │ all_______________________________________ │ 
 │                                            │ 
 │                   &lt;了解&gt;                   │ 
 │                                            │ 
 └────────────────────────────────────────────┘ 
Generating mdadm.conf... done.
update-initramfs: deferring update (trigger activated)
update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
libc-bin (2.19-18+deb8u6) のトリガを処理しています ...
systemd (215-17+deb8u5) のトリガを処理しています ...
initramfs-tools (0.120+deb8u2) のトリガを処理しています ...

</code></pre>

<h3 id="usbストレージの初期化:edd1b43dbf3196488adbf69244ff43d1">USBストレージの初期化</h3>

<p>1つ目のUSBストレージを接続して、フォーマットを行う。</p>

<pre><code>$ dmesg | grep sd
[ 8792.405426] sd 0:0:0:0: [sda] Spinning up disk...
[ 8792.412833] sd 0:0:0:0: Attached scsi generic sg0 type 0
[ 8798.460733] sd 0:0:0:0: [sda] 1953458176 512-byte logical blocks: (1.00 TB/931 GiB)
[ 8798.461289] sd 0:0:0:0: [sda] Write Protect is off
[ 8798.461313] sd 0:0:0:0: [sda] Mode Sense: 47 00 10 08
[ 8798.461831] sd 0:0:0:0: [sda] No Caching mode page found
[ 8798.461853] sd 0:0:0:0: [sda] Assuming drive cache: write through
[ 8798.526543] sd 0:0:0:0: [sda] Attached SCSI disk
$ sudo fdisk /dev/sda

Welcome to fdisk (util-linux 2.25.2).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.

Device does not contain a recognized partition table.
Created a new DOS disklabel with disk identifier 0x21f377b8.

Command (m for help): p
Disk /dev/sda: 931.5 GiB, 1000170586112 bytes, 1953458176 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x21f377b8



Command (m for help): n
Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
Select (default p): 

Using default response p.
Partition number (1-4, default 1): 
First sector (2048-1953458175, default 2048): 
Last sector, +sectors or +size{K,M,G,T,P} (2048-1953458175, default 1953458175): +838860800

Created a new partition 1 of type 'Linux' and of size 400 GiB.

Command (m for help): n
Partition type
   p   primary (1 primary, 0 extended, 3 free)
   e   extended (container for logical partitions)
Select (default p): 

Using default response p.
Partition number (2-4, default 2): 
First sector (838862848-1953458175, default 838862848):  
Last sector, +sectors or +size{K,M,G,T,P} (838862848-1953458175, default 1953458175): +692060160

Created a new partition 2 of type 'Linux' and of size 330 GiB.

Command (m for help): n
Partition type
   p   primary (2 primary, 0 extended, 2 free)
   e   extended (container for logical partitions)
Select (default p): 

Using default response p.
Partition number (3,4, default 3): 
First sector (1530923008-1953458175, default 1530923008): 
Last sector, +sectors or +size{K,M,G,T,P} (1530923008-1953458175, default 1953458175): +419430400

Created a new partition 3 of type 'Linux' and of size 200 GiB.

Command (m for help): p
Disk /dev/sda: 931.5 GiB, 1000170586112 bytes, 1953458176 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x21f377b8

Device     Boot      Start        End   Sectors  Size Id Type
/dev/sda1             2048  838862847 838860800  400G 83 Linux
/dev/sda2        838862848 1530923007 692060160  330G 83 Linux
/dev/sda3       1530923008 1950353407 419430400  200G 83 Linux


Command (m for help): t
Partition number (1-3, default 3): 1
Hex code (type L to list all codes): fd

Changed type of partition 'Linux' to 'Linux raid autodetect'.

Command (m for help): t
Partition number (1-3, default 3): 2
Hex code (type L to list all codes): fd

Changed type of partition 'Linux' to 'Linux raid autodetect'.

Command (m for help): t
Partition number (1-3, default 3): 3
Hex code (type L to list all codes): fd

Changed type of partition 'Linux' to 'Linux raid autodetect'.

Command (m for help): p
Disk /dev/sda: 931.5 GiB, 1000170586112 bytes, 1953458176 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x21f377b8

Device     Boot      Start        End   Sectors  Size Id Type
/dev/sda1             2048  838862847 838860800  400G fd Linux raid autodetect
/dev/sda2        838862848 1530923007 692060160  330G fd Linux raid autodetect
/dev/sda3       1530923008 1950353407 419430400  200G fd Linux raid autodetect


Command (m for help): w
The partition table has been altered.
Calling ioctl() to re-read partition table.
Syncing disks.

</code></pre>

<p>2つ目のUSBストレージを接続して、フォーマットを行う。</p>

<pre><code>$ dmesg | grep sd
[11121.958187] sd 1:0:0:0: Attached scsi generic sg1 type 0
[11121.959776] sd 1:0:0:0: [sdb] Spinning up disk...
[11128.015762] sd 1:0:0:0: [sdb] 1953458176 512-byte logical blocks: (1.00 TB/931 GiB)
[11128.016326] sd 1:0:0:0: [sdb] Write Protect is off
[11128.016352] sd 1:0:0:0: [sdb] Mode Sense: 47 00 10 08
[11128.016885] sd 1:0:0:0: [sdb] No Caching mode page found
[11128.016907] sd 1:0:0:0: [sdb] Assuming drive cache: write through
[11128.078805] sd 1:0:0:0: [sdb] Attached SCSI disk
$ sudo fdisk /dev/sdb

Welcome to fdisk (util-linux 2.25.2).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.

Device does not contain a recognized partition table.
Created a new DOS disklabel with disk identifier 0x09c6efcf.

Command (m for help): p
Disk /dev/sdb: 931.5 GiB, 1000170586112 bytes, 1953458176 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x09c6efcf



Command (m for help): n
Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
Select (default p): 

Using default response p.
Partition number (1-4, default 1): 
First sector (2048-1953458175, default 2048): 
Last sector, +sectors or +size{K,M,G,T,P} (2048-1953458175, default 1953458175): +838860800

Created a new partition 1 of type 'Linux' and of size 400 GiB.

Command (m for help): n
Partition type
   p   primary (1 primary, 0 extended, 3 free)
   e   extended (container for logical partitions)
Select (default p): 

Using default response p.
Partition number (2-4, default 2): 
First sector (838862848-1953458175, default 838862848): 
Last sector, +sectors or +size{K,M,G,T,P} (838862848-1953458175, default 1953458175): +692060160

Created a new partition 2 of type 'Linux' and of size 330 GiB.

Command (m for help): n
Partition type
   p   primary (2 primary, 0 extended, 2 free)
   e   extended (container for logical partitions)
Select (default p): 

Using default response p.
Partition number (3,4, default 3): 
First sector (1530923008-1953458175, default 1530923008): 
Last sector, +sectors or +size{K,M,G,T,P} (1530923008-1953458175, default 1953458175): +419430400

Created a new partition 3 of type 'Linux' and of size 200 GiB.

Command (m for help): p
Disk /dev/sdb: 931.5 GiB, 1000170586112 bytes, 1953458176 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x09c6efcf

Device     Boot      Start        End   Sectors  Size Id Type
/dev/sdb1             2048  838862847 838860800  400G 83 Linux
/dev/sdb2        838862848 1530923007 692060160  330G 83 Linux
/dev/sdb3       1530923008 1950353407 419430400  200G 83 Linux


Command (m for help): t
Partition number (1-3, default 3): 1
Hex code (type L to list all codes): fd

Changed type of partition 'Linux' to 'Linux raid autodetect'.

Command (m for help): t
Partition number (1-3, default 3): 2
Hex code (type L to list all codes): fd

Changed type of partition 'Linux' to 'Linux raid autodetect'.

Command (m for help): t
Partition number (1-3, default 3): 3
Hex code (type L to list all codes): fd

Changed type of partition 'Linux' to 'Linux raid autodetect'.

Command (m for help): p
Disk /dev/sdb: 931.5 GiB, 1000170586112 bytes, 1953458176 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x09c6efcf

Device     Boot      Start        End   Sectors  Size Id Type
/dev/sdb1             2048  838862847 838860800  400G fd Linux raid autodetect
/dev/sdb2        838862848 1530923007 692060160  330G fd Linux raid autodetect
/dev/sdb3       1530923008 1950353407 419430400  200G fd Linux raid autodetect


Command (m for help): w
The partition table has been altered.
Calling ioctl() to re-read partition table.
Syncing disks.

</code></pre>

<h3 id="mdadmでraid1の構築:edd1b43dbf3196488adbf69244ff43d1">mdadmでraid1の構築</h3>

<p>デバイスIDを確認する。</p>

<pre><code>$ sudo ls -l /dev/disk/by-id/
合計 0
lrwxrwxrwx 1 root root 13 12月 31 18:34 mmc-USDU1_0x66f01af2 -&gt; ../../mmcblk0
lrwxrwxrwx 1 root root 15 12月 31 18:34 mmc-USDU1_0x66f01af2-part1 -&gt; ../../mmcblk0p1
lrwxrwxrwx 1 root root 15 12月 31 18:34 mmc-USDU1_0x66f01af2-part2 -&gt; ../../mmcblk0p2
lrwxrwxrwx 1 root root  9 12月 31 21:43 usb-WD_Elements_10B8_575834314132354E3330594B-0:0 -&gt; ../../sdb
lrwxrwxrwx 1 root root 10 12月 31 21:43 usb-WD_Elements_10B8_575834314132354E3330594B-0:0-part1 -&gt; ../../sdb1
lrwxrwxrwx 1 root root 10 12月 31 21:43 usb-WD_Elements_10B8_575834314132354E3330594B-0:0-part2 -&gt; ../../sdb2
lrwxrwxrwx 1 root root 10 12月 31 21:43 usb-WD_Elements_10B8_575834314132354E3330594B-0:0-part3 -&gt; ../../sdb3
lrwxrwxrwx 1 root root  9 12月 31 21:37 usb-WD_Elements_25A2_57583731413736363234444E-0:0 -&gt; ../../sda
lrwxrwxrwx 1 root root 10 12月 31 21:37 usb-WD_Elements_25A2_57583731413736363234444E-0:0-part1 -&gt; ../../sda1
lrwxrwxrwx 1 root root 10 12月 31 21:37 usb-WD_Elements_25A2_57583731413736363234444E-0:0-part2 -&gt; ../../sda2
lrwxrwxrwx 1 root root 10 12月 31 21:37 usb-WD_Elements_25A2_57583731413736363234444E-0:0-part3 -&gt; ../../sda3
</code></pre>

<p>mdadmコマンドでraid1を構築する</p>

<pre><code>$ sudo mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/disk/by-id/usb-WD_Elements_25A2_57583731413736363234444E-0\:0-part1 /dev/disk/by-id/usb-WD_Elements_10B8_575834314132354E3330594B-0\:0-part1 
mdadm: Note: this array has metadata at the start and
    may not be suitable as a boot device.  If you plan to
    store '/boot' on this device please ensure that
    your boot-loader understands md/v1.x metadata, or use
    --metadata=0.90
Continue creating array? yes
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md0 started.
$ sudo mdadm --create /dev/md1 --level=1 --raid-devices=2 /dev/disk/by-id/usb-WD_Elements_25A2_57583731413736363234444E-0\:0-part2 /dev/disk/by-id/usb-WD_Elements_10B8_575834314132354E3330594B-0\:0-part2 
mdadm: Note: this array has metadata at the start and
    may not be suitable as a boot device.  If you plan to
    store '/boot' on this device please ensure that
    your boot-loader understands md/v1.x metadata, or use
    --metadata=0.90
Continue creating array? yes
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md1 started.
$ sudo mdadm --create /dev/md2 --level=1 --raid-devices=2 /dev/disk/by-id/usb-WD_Elements_25A2_57583731413736363234444E-0\:0-part3 /dev/disk/by-id/usb-WD_Elements_10B8_575834314132354E3330594B-0\:0-part3 
mdadm: Note: this array has metadata at the start and
    may not be suitable as a boot device.  If you plan to
    store '/boot' on this device please ensure that
    your boot-loader understands md/v1.x metadata, or use
    --metadata=0.90
Continue creating array? yes
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md2 started.
$
$ sudo cat /proc/mdstat 
Personalities : [raid1] 
md2 : active raid1 sdb3[1] sda3[0]
      209584128 blocks super 1.2 [2/2] [UU]
      	resync=DELAYED
      bitmap: 2/2 pages [8KB], 65536KB chunk

md1 : active raid1 sdb2[1] sda2[0]
      345899008 blocks super 1.2 [2/2] [UU]
      	resync=DELAYED
      bitmap: 3/3 pages [12KB], 65536KB chunk

md0 : active raid1 sdb1[1] sda1[0]
      419299328 blocks super 1.2 [2/2] [UU]
      [&gt;....................]  resync =  0.5% (2202240/419299328) finish=403.4min speed=17230K/sec
      bitmap: 4/4 pages [16KB], 65536KB chunk

unused devices: &lt;none&gt;
$
$ sudo mdadm --detail /dev/md*
mdadm: /dev/md does not appear to be an md device
/dev/md0:
        Version : 1.2
  Creation Time : Sat Dec 31 21:50:28 2016
     Raid Level : raid1
     Array Size : 419299328 (399.88 GiB 429.36 GB)
  Used Dev Size : 419299328 (399.88 GiB 429.36 GB)
   Raid Devices : 2
  Total Devices : 2
    Persistence : Superblock is persistent

  Intent Bitmap : Internal

    Update Time : Sat Dec 31 21:53:07 2016
          State : clean, resyncing 
 Active Devices : 2
Working Devices : 2
 Failed Devices : 0
  Spare Devices : 0

  Resync Status : 0% complete

           Name : homenas1:0  (local to host homenas1)
           UUID : ff0b51a1:559b9e27:476e5946:50ee7174
         Events : 31

    Number   Major   Minor   RaidDevice State
       0       8        1        0      active sync   /dev/sda1
       1       8       17        1      active sync   /dev/sdb1
/dev/md1:
        Version : 1.2
  Creation Time : Sat Dec 31 21:51:17 2016
     Raid Level : raid1
     Array Size : 345899008 (329.88 GiB 354.20 GB)
  Used Dev Size : 345899008 (329.88 GiB 354.20 GB)
   Raid Devices : 2
  Total Devices : 2
    Persistence : Superblock is persistent

  Intent Bitmap : Internal

    Update Time : Sat Dec 31 21:51:17 2016
          State : clean, resyncing (DELAYED) 
 Active Devices : 2
Working Devices : 2
 Failed Devices : 0
  Spare Devices : 0

           Name : homenas1:1  (local to host homenas1)
           UUID : 8ae07a1b:967f0164:d564ec68:7e77c145
         Events : 0

    Number   Major   Minor   RaidDevice State
       0       8        2        0      active sync   /dev/sda2
       1       8       18        1      active sync   /dev/sdb2
/dev/md2:
        Version : 1.2
  Creation Time : Sat Dec 31 21:51:43 2016
     Raid Level : raid1
     Array Size : 209584128 (199.88 GiB 214.61 GB)
  Used Dev Size : 209584128 (199.88 GiB 214.61 GB)
   Raid Devices : 2
  Total Devices : 2
    Persistence : Superblock is persistent

  Intent Bitmap : Internal

    Update Time : Sat Dec 31 21:51:43 2016
          State : clean, resyncing (DELAYED) 
 Active Devices : 2
Working Devices : 2
 Failed Devices : 0
  Spare Devices : 0

           Name : homenas1:2  (local to host homenas1)
           UUID : 3cb34c46:3ace2238:e6c98f2e:6aa29e8e
         Events : 0

    Number   Major   Minor   RaidDevice State
       0       8        3        0      active sync   /dev/sda3
       1       8       19        1      active sync   /dev/sdb3
</code></pre>

<h3 id="raid1のフォーマット:edd1b43dbf3196488adbf69244ff43d1">raid1のフォーマット</h3>

<p>raid1デバイスをext4でフォーマットする。</p>

<pre><code>$ sudo mkfs -t ext4 /dev/md0 
mke2fs 1.42.12 (29-Aug-2014)
Creating filesystem with 104824832 4k blocks and 26206208 inodes
Filesystem UUID: 29e7e530-5125-48b9-a0c7-539e285dbac3
Superblock backups stored on blocks: 
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 
	4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968, 
	102400000

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (32768 blocks): done
Writing superblocks and filesystem accounting information: done     

$
$ sudo mkfs -t ext4 /dev/md1
mke2fs 1.42.12 (29-Aug-2014)
Creating filesystem with 86474752 4k blocks and 21618688 inodes
Filesystem UUID: 3cf0d3fe-0d04-4fe0-8fe2-b383a669fc3e
Superblock backups stored on blocks: 
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 
	4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (32768 blocks): done
Writing superblocks and filesystem accounting information: done     

$
$ sudo mkfs -t ext4 /dev/md2
mke2fs 1.42.12 (29-Aug-2014)
Creating filesystem with 52396032 4k blocks and 13099008 inodes
Filesystem UUID: 2968a01e-1116-4895-b06c-c70208ecd6a4
Superblock backups stored on blocks: 
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 
	4096000, 7962624, 11239424, 20480000, 23887872

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (32768 blocks): done
Writing superblocks and filesystem accounting information: done     

</code></pre>

<h3 id="raid1デバイスをマウント:edd1b43dbf3196488adbf69244ff43d1">raid1デバイスをマウント</h3>

<pre><code>$ sudo mkdir /mnt/nas
$ sudo mount -t ext4 /dev/md0 /mnt/nas
$ sudo chmod 775 /mnt/nas
$ sudo chown root:adm /mnt/nas
$ 
$ sudo mkdir /mnt/rpibackup
$ sudo mount -t ext4 /dev/md1 /mnt/rpibackup
$ sudo chmod 775 /mnt/rpibackup
$ sudo chown root:adm /mnt/rpibackup
$ 
$ sudo mkdir /mnt/syslog
$ sudo mount -t ext4 /dev/md2 /mnt/syslog
$ sudo chmod 775 /mnt/syslog
$ sudo chown root:adm /mnt/syslog
</code></pre>

<h3 id="起動時にraid1デバイスをマウントする:edd1b43dbf3196488adbf69244ff43d1">起動時にraid1デバイスをマウントする</h3>

<p>起動時にraid1デバイスをマウントするためにfstabを設定する。</p>

<pre><code>$ sudo blkid
/dev/md0: UUID=&quot;29e7e530-5125-48b9-a0c7-539e285dbac3&quot; TYPE=&quot;ext4&quot;
/dev/md1: UUID=&quot;3cf0d3fe-0d04-4fe0-8fe2-b383a669fc3e&quot; TYPE=&quot;ext4&quot;
/dev/md2: UUID=&quot;2968a01e-1116-4895-b06c-c70208ecd6a4&quot; TYPE=&quot;ext4&quot;
$
$ sudo cp -p /etc/fstab{,.org}
$ ls -l /etc/fstab*
-rw-r--r-- 1 root root 302  9月 23 12:53 /etc/fstab
-rw-r--r-- 1 root root 302  9月 23 12:53 /etc/fstab.org
$
$ sudo vi /etc/fstab
UUID=&quot;29e7e530-5125-48b9-a0c7-539e285dbac3&quot;     /mnt/nas        ext4    defaults,nofail 0       0
UUID=&quot;3cf0d3fe-0d04-4fe0-8fe2-b383a669fc3e&quot;     /mnt/rpibackup  ext4    defaults,nofail 0       0
UUID=&quot;2968a01e-1116-4895-b06c-c70208ecd6a4&quot;     /mnt/syslog     ext4    defaults,nofail 0       0
</code></pre>

<p>USBストレージのUUIDが判明するまでマウント作業を遅延させる。</p>

<pre><code>$ sudo cp -p /boot/cmdline.txt{,.org}
$ ls -l /boot/cmdline.txt*
-rwxr-xr-x 1 root root 136  1月  1  1980 /boot/cmdline.txt
-rwxr-xr-x 1 root root 136  1月  1  1980 /boot/cmdline.txt.org
$
$ sudo vi /boot/cmdline.txt
dwc_otg.lpm_enable=0 console=serial0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait rootdelay=10
$
</code></pre>

<p>RAID1デバイスの同期速度を変更する</p>

<pre><code>$ cat /proc/sys/dev/raid/speed_limit_min 
1000
$ sudo sh -c &quot;echo 50000 &gt; /proc/sys/dev/raid/speed_limit_min&quot;
$ cat /proc/sys/dev/raid/speed_limit_min
50000
$
$ sudo cp -p /etc/sysctl.conf{,.org}
$ ls -l /etc/sysctl.conf*
-rw-r--r-- 1 root root 2084  3月  7  2015 /etc/sysctl.conf
-rw-r--r-- 1 root root 2084  3月  7  2015 /etc/sysctl.conf.org
$ sudo vi /etc/sysctl.conf
dev.raid.speed_limit_min = 50000
dev.raid.speed_limit_max = 200000
$
</code></pre>

<h3 id="raid1-backup用ストレージの設定:edd1b43dbf3196488adbf69244ff43d1">RAID1 Backup用ストレージの設定</h3>

<pre><code>$ dmesg | grep sd
[ 7875.564180] sd 2:0:0:0: Attached scsi generic sg2 type 0
[ 7875.571270] sd 2:0:0:0: [sdc] Spinning up disk...
[ 7880.622204] sd 2:0:0:0: [sdc] 1953458176 512-byte logical blocks: (1.00 TB/931 GiB)
[ 7880.622788] sd 2:0:0:0: [sdc] Write Protect is off
[ 7880.622813] sd 2:0:0:0: [sdc] Mode Sense: 47 00 10 08
[ 7880.623346] sd 2:0:0:0: [sdc] No Caching mode page found
[ 7880.623368] sd 2:0:0:0: [sdc] Assuming drive cache: write through
[ 7880.638880] sd 2:0:0:0: [sdc] Attached SCSI disk
$
$ sudo fdisk /dev/sdc 

Welcome to fdisk (util-linux 2.25.2).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): p
Disk /dev/sdc: 931.5 GiB, 1000170586112 bytes, 1953458176 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x6c9f0b39



Command (m for help): n
Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
Select (default p): 

Using default response p.
Partition number (1-4, default 1): 
First sector (2048-1953458175, default 2048): 
Last sector, +sectors or +size{K,M,G,T,P} (2048-1953458175, default 1953458175): 

Created a new partition 1 of type 'Linux' and of size 931.5 GiB.

Command (m for help): p
Disk /dev/sdc: 931.5 GiB, 1000170586112 bytes, 1953458176 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x6c9f0b39

Device     Boot Start        End    Sectors   Size Id Type
/dev/sdc1        2048 1953458175 1953456128 931.5G 83 Linux


Command (m for help): w
The partition table has been altered.
Calling ioctl() to re-read partition table.
Syncing disks.

$
$ sudo mkfs -t ext4 /dev/sdc1 
mke2fs 1.42.12 (29-Aug-2014)
Creating filesystem with 244182016 4k blocks and 61046784 inodes
Filesystem UUID: 80e310e4-44d9-4de2-a3b7-a71915318f29
Superblock backups stored on blocks: 
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 
	4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968, 
	102400000, 214990848

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (32768 blocks): done
Writing superblocks and filesystem accounting information: done     

$
$ sudo mkdir /backup
$ sudo mount -t ext4 /dev/sdc1 /backup/
$ sudo chmod 775 /backup/
$ sudo chown root:adm /backup/
$
$ sudo blkid
/dev/sdc1: UUID=&quot;80e310e4-44d9-4de2-a3b7-a71915318f29&quot; TYPE=&quot;ext4&quot; PARTUUID=&quot;6c9f0b39-01&quot;
$
$ sudo vi /etc/fstab
UUID=&quot;80e310e4-44d9-4de2-a3b7-a71915318f29&quot;     /backup ext4    defaults,nofail 0       0
$
</code></pre>

<h2 id="参考url:edd1b43dbf3196488adbf69244ff43d1">参考URL</h2>

<ul>
<li><a href="http://projpi.com/diy-home-projects-with-a-raspberry-pi/raspberry-pi-raid-array-with-usb-hdds/">Raspberry Pi raid array with USB HDDs</a></li>
</ul>

<p>以上</p>

                  
<div id="disqus_thread"></div>
<script type="text/javascript">
   
  var disqus_shortname = 'shinayoshi';

   
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


                </div>
              </article>
              <div class="pagination">
                <ul class="pager">
                  
                  <li class="next"><a href="http://www.shinayoshi.net/post/2016/10/22/raspberrypi-initial-setup/">家庭内インターネット接続環境を構築する その2</a></li>
                  
                  
                  <li class="previous"><a href="http://www.shinayoshi.net/post/2017/01/02/setting-fileserver/">家庭内インターネット接続環境を構築する その4</a></li>
                  
                </ul>
              </div>
            </div>
            <div class="sidebar col-md-3">
              <aside>
  
<section class="panel panel-default">
  <div class="panel-heading">
    <h1 class="panel-title">Profile</h1>
  </div>
  <div id="profile" class="panel-body text-center">
    <img src="http://www.shinayoshi.net//img/logo.png" alt="logo" class="img-responsive center-block" />
    <p>
      <a href="http://www.shinayoshi.net//about/">Author: shinayoshi</a>
    </p>
    <ul class="list-inline">
  

  

  

  
  <li>
    <a href="https://github.com/shinayoshi" target="_blank">
      <i class="fa fa-github-square fa-lg"></i>
    </a>
  </li>
  

  
  <li>
    <a href="https://bitbucket.org/shinayoshi" target="_blank">
      <i class="fa fa-bitbucket-square fa-lg"></i>
    </a>
  </li>
  

  
  <li>
    <a href="http://www.slideshare.net/shinayoshi" target="_blank">
      <i class="fa fa-slideshare fa-lg"></i>
    </a>
  </li>
  
</ul>

  </div>
</section>

  <section class="panel panel-default">
  <div class="panel-heading">
    <h1 class="panel-title">Recent Posts</h1>
  </div>
  <div id="recent_posts" class="list-group">
    
      
      <a href="http://www.shinayoshi.net/post/2017/01/09/setting-snmpd/" class="list-group-item">家庭内インターネット接続環境を構築する その15 [ 2017-01-09 ]</a>
      
      <a href="http://www.shinayoshi.net/post/2017/01/09/setting-cacti/" class="list-group-item">家庭内インターネット接続環境を構築する その14 [ 2017-01-09 ]</a>
      
      <a href="http://www.shinayoshi.net/post/2017/01/09/setting-zabbix-agent/" class="list-group-item">家庭内インターネット接続環境を構築する その13 [ 2017-01-09 ]</a>
      
      <a href="http://www.shinayoshi.net/post/2017/01/08/setting-zabbix-server/" class="list-group-item">家庭内インターネット接続環境を構築する その12 [ 2017-01-08 ]</a>
      
      <a href="http://www.shinayoshi.net/post/2017/01/07/setting-rsyslog/" class="list-group-item">家庭内インターネット接続環境を構築する その11 [ 2017-01-07 ]</a>
      
      <a href="http://www.shinayoshi.net/post/2017/01/07/setting-ntp-server/" class="list-group-item">家庭内インターネット接続環境を構築する その10 [ 2017-01-07 ]</a>
      
      <a href="http://www.shinayoshi.net/post/2017/01/07/setting-cowrie-security/" class="list-group-item">家庭内インターネット接続環境を構築する その9 [ 2017-01-07 ]</a>
      
      <a href="http://www.shinayoshi.net/post/2017/01/05/setting-kippo-graph/" class="list-group-item">家庭内インターネット接続環境を構築する その8 [ 2017-01-05 ]</a>
      
      <a href="http://www.shinayoshi.net/post/2017/01/04/setting-cowrie/" class="list-group-item">家庭内インターネット接続環境を構築する その7 [ 2017-01-04 ]</a>
      
      <a href="http://www.shinayoshi.net/post/2017/01/03/setting-proxy/" class="list-group-item">家庭内インターネット接続環境を構築する その6 [ 2017-01-03 ]</a>
      
    
  </div>
</section>

  
<section class="panel panel-default">
  <div class="panel-heading">
    <h1 class="panel-title">Categories</h1>
  </div>
  <div id="categories" class="list-group">
    
    <a href="http://www.shinayoshi.net//categories/diary" class="list-group-item"><span class="badge">2</span>diary</a>
    
    <a href="http://www.shinayoshi.net//categories/server" class="list-group-item"><span class="badge">34</span>server</a>
    
  </div>
</section>

  
<section class="panel panel-default">
  <div class="panel-heading">
    <h1 class="panel-title">Tags</h1>
  </div>
  <div id="tags" class="panel-body">
    
    
    <a href="http://www.shinayoshi.net//tags/backup" >backup (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/bind" >bind (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/blog" >blog (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/cacti" >cacti (2)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/centos" >centos (2)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/cowrie" >cowrie (3)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/fgt-60d" >fgt-60d (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/fortigate" >fortigate (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/home-network" >home-network (15)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/homefw01" >homefw01 (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/homemon1" >homemon1 (6)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/homemon2" >homemon2 (6)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/homenas1" >homenas1 (4)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/homepot1" >homepot1 (5)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/homepxy1" >homepxy1 (4)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/igo" >igo (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/jessie" >jessie (14)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/kippo-graph" >kippo-graph (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/kivy" >kivy (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/raspberrypi" >raspberrypi (30)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/shogi" >shogi (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/squid" >squid (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/wifi" >wifi (1)</a>
    
    
    
    <a href="http://www.shinayoshi.net//tags/zabbix" >zabbix (3)</a>
    
    
  </div>
</section>

</aside>

            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <hr />
          </div>
        </div>
      </div>
      <footer role="contentinfo">
        <div class="container">
          <p class="text-muted credits">
            Copyright (c) 2016 shinayoshi<br />
            <small>
              <span class="credit">Powered By <a href="http://hugo.spf13.com">Hugo</a></span>
            </small>
          </p>
        </div>
      </footer>

      
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
      
      <script src="http://www.shinayoshi.net//js/bootstrap.min.js"></script>

      <script src="https://yandex.st/highlightjs/8.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
      
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37226857-2', 'auto');
  ga('send', 'pageview');
</script>


    </div>
  </body>
</html>

