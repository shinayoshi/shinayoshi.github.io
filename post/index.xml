<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on shinayoshi&#39;s note</title>
    <link>http://www.shinayoshi.net/post/</link>
    <description>Recent content in Posts on shinayoshi&#39;s note</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>Copyright (c) 2015 shinayoshi</copyright>
    <lastBuildDate>Sun, 10 Jul 2016 09:37:19 +0900</lastBuildDate>
    <atom:link href="http://www.shinayoshi.net/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Raspberry Pi 3でWiFi設定</title>
      <link>http://www.shinayoshi.net/post/2016/07/10/raspbian-wifi-setup/</link>
      <pubDate>Sun, 10 Jul 2016 09:37:19 +0900</pubDate>
      
      <guid>http://www.shinayoshi.net/post/2016/07/10/raspbian-wifi-setup/</guid>
      <description>

&lt;p&gt;Raspberry Pi 3には標準でWiFiモジュールが搭載されている。
今回はWiFi設定を行う。&lt;/p&gt;

&lt;h2 id=&#34;wifiネットワークのスキャン:366b0c30f1d198568510d56bfae90a97&#34;&gt;WiFiネットワークのスキャン&lt;/h2&gt;

&lt;p&gt;接続するWiFiネットワークを確認する。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo iwlist wlan0 scan&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;アクセスポイントの設定:366b0c30f1d198568510d56bfae90a97&#34;&gt;アクセスポイントの設定&lt;/h2&gt;

&lt;p&gt;アクセスポイントを設定する。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo cp -p /etc/wpa_supplicant/wpa_supplicant.conf{,.org}&lt;br /&gt;
$ sudo sh -c &amp;ldquo;wpa_passphrase &amp;lsquo;アクセスポイント名(ESSID)&amp;rsquo; &amp;lsquo;アクセスポイントのパスワード&amp;rsquo; &amp;gt;&amp;gt; /etc/wpa_supplicant/wpa_supplicant.conf&amp;rdquo;&lt;br /&gt;
$ sudo cat /etc/wpa_supplicant/wpa_supplicant.conf&lt;br /&gt;
country=JP&lt;br /&gt;
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev&lt;br /&gt;
update_config=1&lt;br /&gt;
network={&lt;br /&gt;
    ssid=&amp;ldquo;アクセスポイント名(ESSID)&amp;rdquo;&lt;br /&gt;
    #psk=&amp;ldquo;先ほどのコマンドで入力したパスワード(不要であれば削除する)&amp;rdquo;&lt;br /&gt;
    psk=暗号化されたパスワード&lt;br /&gt;
}&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;wifiの有効化:366b0c30f1d198568510d56bfae90a97&#34;&gt;WiFiの有効化&lt;/h2&gt;

&lt;p&gt;WiFiを有効化する。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo ifdown wlan0&lt;br /&gt;
$ sudo ifup wlan0&lt;br /&gt;
$ ifconfig wlan0&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;ipアドレスの固定化:366b0c30f1d198568510d56bfae90a97&#34;&gt;IPアドレスの固定化&lt;/h2&gt;

&lt;p&gt;IPアドレスを固定化する。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo vi /etc/dhcpd.conf&lt;br /&gt;
#Add the following line&lt;br /&gt;
interface wlan0&lt;br /&gt;
static ip_address=192.168.100.&lt;sup&gt;10&lt;/sup&gt;&amp;frasl;&lt;sub&gt;24&lt;/sub&gt;&lt;br /&gt;
static routers=192.168.100.1&lt;br /&gt;
static domain_name_servers=192.168.100.1&lt;br /&gt;
#static domain_name=&lt;br /&gt;
#static domain_search=&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;WiFiデバイスを再起動する。IPアドレスが固定化されていることを確認する。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo ifdown wlan0&lt;br /&gt;
$ sudo ifup wlan0&lt;br /&gt;
$ ifconfig wlan0&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;参考:366b0c30f1d198568510d56bfae90a97&#34;&gt;参考&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md&#34;&gt;Setting WiFi up via the command line - Raspberry Pi Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://move0tofu.hatenablog.jp/entry/2016/04/30/215517&#34;&gt;Raspberry Pi 3 Model B環境構築 その3(WiFi設定) - @0tofuの備忘録&amp;hellip;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;以上&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Raspbianの初期設定</title>
      <link>http://www.shinayoshi.net/post/2016/07/09/raspbian-jessie-setup/</link>
      <pubDate>Sat, 09 Jul 2016 21:43:58 +0900</pubDate>
      
      <guid>http://www.shinayoshi.net/post/2016/07/09/raspbian-jessie-setup/</guid>
      <description>

&lt;p&gt;こちらも何番煎じかわかりませんが、Raspbianをインストールした後の初期設定メモです。&lt;/p&gt;

&lt;h2 id=&#34;前提:29d369a29c800517b14390fe39a79e9d&#34;&gt;前提&lt;/h2&gt;

&lt;p&gt;Raspberry Pi 3にRaspbian Jessie (2016-05-27版)をインストールした環境の初期設定を想定する。ただし、セキュリティ関連の設定は省略する(例えば、SSH接続の公開鍵認証設定やFirewall設定、不要サービスの停止など)。&lt;/p&gt;

&lt;h2 id=&#34;パッケージ更新:29d369a29c800517b14390fe39a79e9d&#34;&gt;パッケージ更新&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo apt-get update&lt;br /&gt;
$ sudo apt-get upgrade&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.raspberrypi.org/documentation/raspbian/updating.md&#34;&gt;Updating and Upgrading Raspbian - Raspberry Pi Documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ipアドレス固定化:29d369a29c800517b14390fe39a79e9d&#34;&gt;IPアドレス固定化&lt;/h2&gt;

&lt;p&gt;Raspberry Pi 3のIPアドレスを固定する。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo vi /etc/dhcpd.conf&lt;br /&gt;
#Add the following line&lt;br /&gt;
interface eth0&lt;br /&gt;
static ip_address=192.168.40.&lt;sup&gt;10&lt;/sup&gt;&amp;frasl;&lt;sub&gt;24&lt;/sub&gt;&lt;br /&gt;
static routers=192.168.40.254&lt;br /&gt;
static domain_name_servers=192.168.100.1&lt;br /&gt;
#static domain_name=&lt;br /&gt;
#static domain_search=&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&amp;ldquo;man dhcpcd.conf&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;usbポートの電流供給増加:29d369a29c800517b14390fe39a79e9d&#34;&gt;USBポートの電流供給増加&lt;/h2&gt;

&lt;p&gt;USBポートの電流供給を1.2A(4ポート合計)まで供給できるようにする。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo vi /boot/config.txt&lt;br /&gt;
#Add the following line&lt;br /&gt;
max_usb_current=1&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://elinux.org/RPiconfig&#34;&gt;RPiconfig - eLinux.org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;raspi-config関連:29d369a29c800517b14390fe39a79e9d&#34;&gt;raspi-config関連&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo raspi-config&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;ディスク拡張:29d369a29c800517b14390fe39a79e9d&#34;&gt;ディスク拡張&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;「1 Expand Filesystem」を選択する。&lt;/li&gt;
&lt;li&gt;「Ok」を選択する。&lt;/li&gt;
&lt;li&gt;raspi-configの初期画面に戻る。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;タイムゾーン設定:29d369a29c800517b14390fe39a79e9d&#34;&gt;タイムゾーン設定&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;「5 Internationalisation Options」を選択する。&lt;/li&gt;
&lt;li&gt;「I1 Change Locale」を選択する。&lt;/li&gt;
&lt;li&gt;「en_GB.UTF-8 UTF-8」の選択を外す。&lt;/li&gt;
&lt;li&gt;「ja_JP.UTF-8 UTF-8」を選択する。&lt;/li&gt;
&lt;li&gt;「Ok」を選択する。&lt;/li&gt;
&lt;li&gt;「ja_JP.UTF-8」を選択する。&lt;/li&gt;
&lt;li&gt;「Ok」を選択する。&lt;/li&gt;
&lt;li&gt;raspi-configの初期画面に戻る。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;文字コード設定:29d369a29c800517b14390fe39a79e9d&#34;&gt;文字コード設定&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;「5 Internationalisation Options」を選択する。&lt;/li&gt;
&lt;li&gt;「I2 Change Timezone」を選択する。&lt;/li&gt;
&lt;li&gt;「Asia」を選択する。&lt;/li&gt;
&lt;li&gt;「Tokyo」を選択する。&lt;/li&gt;
&lt;li&gt;raspi-configの初期画面に戻る。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;wifiの国設定:29d369a29c800517b14390fe39a79e9d&#34;&gt;Wifiの国設定&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;「5 Internationalisation Options」を選択する。&lt;/li&gt;
&lt;li&gt;「I4 Change Wi-fi Country」を選択する。&lt;/li&gt;
&lt;li&gt;「JP Japan」を選択する。&lt;/li&gt;
&lt;li&gt;「Ok」を選択する。&lt;/li&gt;
&lt;li&gt;raspi-configの初期画面に戻る。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;ホスト名変更:29d369a29c800517b14390fe39a79e9d&#34;&gt;ホスト名変更&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;「9 Advanced Options」を選択する。&lt;/li&gt;
&lt;li&gt;「A2 Hostname」を選択する。&lt;/li&gt;
&lt;li&gt;「Ok」を選択する。&lt;/li&gt;
&lt;li&gt;ホスト名を設定する。&lt;/li&gt;
&lt;li&gt;「Ok」を選択する。&lt;/li&gt;
&lt;li&gt;raspi-configの初期画面に戻る。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;raspi-config終了:29d369a29c800517b14390fe39a79e9d&#34;&gt;raspi-config終了&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;「Finish」を選択する。&lt;/li&gt;
&lt;li&gt;リブートの確認が求められるため、「Yes」を選択する。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;以上&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Raspbianのインストール</title>
      <link>http://www.shinayoshi.net/post/2016/07/09/raspbian-jessie-install/</link>
      <pubDate>Sat, 09 Jul 2016 15:55:37 +0900</pubDate>
      
      <guid>http://www.shinayoshi.net/post/2016/07/09/raspbian-jessie-install/</guid>
      <description>

&lt;p&gt;何番煎じかわかりませんが、ディスプレイ、キーボード、マウスを使用せずにRaspbianのインストールを行い、リモートPCからSSH接続が行えるようにするまでのメモです。&lt;/p&gt;

&lt;h2 id=&#34;使用したもの:b6f02b3d9579b63dd4fc7d440d3b8ed6&#34;&gt;使用したもの&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;Raspberry Pi 3 Model B&lt;/li&gt;
&lt;li&gt;micro SDカード(32GB)&lt;/li&gt;
&lt;li&gt;USB ACアダプタ(Raspberry Pi 3の電源用)&lt;/li&gt;
&lt;li&gt;USBケーブル(Raspberry Pi 3の電源用)&lt;/li&gt;
&lt;li&gt;LANケーブル(Raspberry Pi 3の有線LAN接続用)&lt;/li&gt;
&lt;li&gt;Mac(作業用)&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;raspbianダウンロード:b6f02b3d9579b63dd4fc7d440d3b8ed6&#34;&gt;Raspbianダウンロード&lt;/h2&gt;

&lt;p&gt;公式サイトからRaspbianをダウンロードする。
2016年7月9日時点の最新バージョンは「2016-05-27-raspbian-jessie.zip」でした。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.raspberrypi.org/downloads/raspbian/&#34;&gt;Download Raspbian for Raspberry Pi&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;raspbian書き込み:b6f02b3d9579b63dd4fc7d440d3b8ed6&#34;&gt;Raspbian書き込み&lt;/h2&gt;

&lt;p&gt;SDカードにRaspbianのイメージを書き込む。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;SDカードデバイスを確認する。
&amp;gt; $ diskutil list&lt;br /&gt;
&amp;gt; /dev/disk1&lt;br /&gt;
&amp;gt;    #:                       TYPE NAME                    SIZE       IDENTIFIER&lt;br /&gt;
&amp;gt;    0:     FDisk_partition_scheme                        *32.2 GB    disk1&lt;br /&gt;
&amp;gt;    1:             Windows_FAT_32 NO NAME                 32.2 GB    disk1s1&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;SDカードデバイスをアンマウントする。
&amp;gt; $ diskutil umountDisk /dev/disk1&lt;br /&gt;
&amp;gt; Unmount of all volumes on disk1 was successful&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;SDカードにRaspbianのイメージを書き込む。
&amp;gt; $ sudo dd bs=1m if=2016-05-27-raspbian-jessie.img of=/dev/rdisk1&lt;br /&gt;
&amp;gt; Password:&lt;br /&gt;
&amp;gt; 958+1 records in&lt;br /&gt;
&amp;gt; 958+1 records out&lt;br /&gt;
&amp;gt; 4019191808 bytes transferred in 269.163670 secs (14932148 bytes/sec)&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;SDカードデバイスを取り出す。
&amp;gt; $ diskutil eject /dev/disk1&lt;br /&gt;
&amp;gt; Disk /dev/disk1 ejected&lt;br /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;raspbian起動:b6f02b3d9579b63dd4fc7d440d3b8ed6&#34;&gt;Raspbian起動&lt;/h2&gt;

&lt;p&gt;Raspbianのイメージを書き込んだSDカードをRaspberry Pi 3にセットして電源を入れる。
Raspberry Pi 3には有線LANも接続しておく。&lt;/p&gt;

&lt;h2 id=&#34;raspbian接続:b6f02b3d9579b63dd4fc7d440d3b8ed6&#34;&gt;Raspbian接続&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;Raspberry Pi 3のIPアドレスを確認する。
&amp;gt; $ arp -a&lt;br /&gt;
&amp;gt; ? (192.168.1.10) at b8:27:eb:xx:xx:xx on en0 ifscope [ethernet]&lt;/li&gt;
&lt;li&gt;SSHでRaspberry Pi 3に接続する。
&amp;gt; $ ssh pi@192.168.1.10&lt;br /&gt;
&amp;gt; pi@192.168.1.10&amp;rsquo;s password:&lt;br /&gt;
&amp;gt; ※piユーザのデフォルトパスワードは「raspberry」&lt;br /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;参考:b6f02b3d9579b63dd4fc7d440d3b8ed6&#34;&gt;参考&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.raspberrypi.org/documentation/installation/installing-images/mac.md&#34;&gt;Installing operating system images on Mac OS - Raspberry Pi Documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;以上&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ApacheでWebサイトを公開する</title>
      <link>http://www.shinayoshi.net/post/2016/05/15/apache-setup/</link>
      <pubDate>Sun, 15 May 2016 22:14:46 +0900</pubDate>
      
      <guid>http://www.shinayoshi.net/post/2016/05/15/apache-setup/</guid>
      <description>

&lt;p&gt;ApacheでWebサイトを公開するまでの手順のメモです。&lt;/p&gt;

&lt;h2 id=&#34;apacheとphpのインストール:cb5d764d8c08bb095f7a6ed7bff2ff04&#34;&gt;ApacheとPHPのインストール&lt;/h2&gt;

&lt;p&gt;Webサーバ(Apache)とPHPをインストールします。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# yum install httpd php php-mbstring&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;apacheの設定:cb5d764d8c08bb095f7a6ed7bff2ff04&#34;&gt;Apacheの設定&lt;/h2&gt;

&lt;p&gt;Apacheを設定します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# vi /etc/httpd/conf/httpd.conf&lt;br /&gt;
#ServerName www.example.com:80&lt;br /&gt;
↓変更&lt;br /&gt;
ServerName www.example.com:80&lt;/p&gt;

&lt;p&gt;#&lt;br /&gt;
# AllowOverride controls what directives may be placed in .htaccess files.&lt;br /&gt;
# It can be &amp;ldquo;All&amp;rdquo;, &amp;ldquo;None&amp;rdquo;, or any combination of the keywords:&lt;br /&gt;
#   Options FileInfo AuthConfig Limit&lt;br /&gt;
#&lt;br /&gt;
    AllowOverride None&lt;br /&gt;
    ↓変更&lt;br /&gt;
    AllowOverride All&lt;/p&gt;

&lt;p&gt;AddDefaultCharset UTF-8&lt;br /&gt;
↓変更&lt;br /&gt;
#AddDefaultCharset UTF-8&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;apacheの起動:cb5d764d8c08bb095f7a6ed7bff2ff04&#34;&gt;Apacheの起動&lt;/h2&gt;

&lt;p&gt;Apacheを起動します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo systemctl start httpd&lt;br /&gt;
$ sudo systemctl enable httpd&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;firewallの設定:cb5d764d8c08bb095f7a6ed7bff2ff04&#34;&gt;Firewallの設定&lt;/h2&gt;

&lt;p&gt;FirewallでWeb通信を許可します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo firewall-cmd --permanent --zone=public --add-service=http&lt;br /&gt;
$ sudo firewall-cmd --reload&lt;br /&gt;
$ sudo firewall-cmd --list-all-zones&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;動作確認:cb5d764d8c08bb095f7a6ed7bff2ff04&#34;&gt;動作確認&lt;/h2&gt;

&lt;p&gt;外部からWebサイトにアクセスできるか確認します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo vi /var/www/html/index.php&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;ja&amp;quot;&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;meta charset=&amp;quot;utf-8&amp;quot; /&amp;gt;
    &amp;lt;title&amp;gt;net-tools&amp;lt;/title&amp;gt;
    &amp;lt;meta name=&amp;quot;description&amp;quot; content=&amp;quot;shinayoshi shinayoshi.net&amp;quot; /&amp;gt;
    &amp;lt;meta name=&amp;quot;author&amp;quot; content=&amp;quot;shinayoshi&amp;quot; /&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;p&amp;gt;&amp;lt;?php echo $_SERVER[&amp;quot;REMOTE_ADDR&amp;quot;]; ?&amp;gt;&amp;lt;/p&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Webブラウザ等でWebサーバにアクセスできることを確認します。
正常にアクセスできていれば接続元のIPアドレスが表示されているはずです。&lt;/p&gt;

&lt;h2 id=&#34;その他:cb5d764d8c08bb095f7a6ed7bff2ff04&#34;&gt;その他&lt;/h2&gt;

&lt;p&gt;実際にWebサイトを公開するには、DNSの設定や素敵なコンテンツを作成する必要がありますが割愛します。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>お名前.com VPS(KVM)の初期設定(CentOS 7 1511)</title>
      <link>http://www.shinayoshi.net/post/2016/01/16/onamae-vpn-setup/</link>
      <pubDate>Sat, 16 Jan 2016 22:30:25 +0900</pubDate>
      
      <guid>http://www.shinayoshi.net/post/2016/01/16/onamae-vpn-setup/</guid>
      <description>

&lt;p&gt;お名前.comのVPS(KVM)の初期設定メモを残しておく。
「CentOS-7-x86_64-Minimal-1511.iso」を使用して再インストール後からの設定を記載しています。&lt;/p&gt;

&lt;h2 id=&#34;rootでログイン:130a6ce433fd353093f8e4a56dec5622&#34;&gt;rootでログイン&lt;/h2&gt;

&lt;p&gt;お名前.comのコンソール画面でログインを行います。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;login: root&lt;br /&gt;
Password:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ログインに成功すると以下のようなプロンプトが表示されます。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;[root@&amp;lt;ホスト名&amp;gt; ~]#&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;以降の手順では、rootアカウントのプロンプトを&lt;code&gt;#&lt;/code&gt;で表現します。&lt;/p&gt;

&lt;h2 id=&#34;シリアルコンソール接続の有効化:130a6ce433fd353093f8e4a56dec5622&#34;&gt;シリアルコンソール接続の有効化&lt;/h2&gt;

&lt;p&gt;シリアルコンソールで接続できるように設定します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# vi /etc/default/grub&lt;br /&gt;
GRUB_CMDLINE_LINUX=&amp;ldquo;rd.lvm.lv=centos/root rd.lvm.lv=centos/swap rhgb quiet&amp;rdquo;&lt;br /&gt;
↓変更&lt;br /&gt;
GRUB_CMDLINE_LINUX=&amp;ldquo;rd.lvm.lv=centos/root rd.lvm.lv=centos/swap rhgb quiet console=tty0 console=ttyS0,115200n8r&amp;rdquo;&lt;br /&gt;
# grub2-mkconfig -o /boot/grub2/grub.cfg&lt;br /&gt;
# reboot&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;共用sshサーバ経由のシリアルコンソール接続:130a6ce433fd353093f8e4a56dec5622&#34;&gt;共用SSHサーバ経由のシリアルコンソール接続&lt;/h2&gt;

&lt;p&gt;お名前.comのVPS(KVM)には、VPSにシリアルコンソール接続するための共用SSHサーバが用意されています。以降の設定はこのSSHサーバ経由のシリアルコンソール接続で作業します。&lt;/p&gt;

&lt;p&gt;SSH接続経由のシリアルコンソールの接続方法については、お名前.comのサイトに詳しく書かれているのでそちらをご確認ください。&lt;a href=&#34;http://guide.onamae-server.com/vpskvm/3_14_15_75_2/&#34;&gt;SSH接続経由のシリアルコンソール | SSH接続 | VPS (KVM) 活用ガイド&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;ホスト名変更:130a6ce433fd353093f8e4a56dec5622&#34;&gt;ホスト名変更&lt;/h2&gt;

&lt;p&gt;ホスト名の変更を行います。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# hostnamectl set-hostname newhost.example.com&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ホスト名の変更を反映するために再起動を行います。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# reboot&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;再度、お名前.comのコンソール画面でログインを行い、ホスト名が変更されていることを確認します。&lt;/p&gt;

&lt;h2 id=&#34;パッケージの更新:130a6ce433fd353093f8e4a56dec5622&#34;&gt;パッケージの更新&lt;/h2&gt;

&lt;p&gt;パッケージを最新の状態に更新します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# yum -y update&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;kernelのバージョンアップがあった場合にはサーバの再起動を実施します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# reboot&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;管理者アカウントの作成:130a6ce433fd353093f8e4a56dec5622&#34;&gt;管理者アカウントの作成&lt;/h2&gt;

&lt;p&gt;通常使用する管理者アカウントを作成します。また、管理者アカウントにパスワードを設定します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# useradd centos&lt;br /&gt;
# passwd centos&lt;br /&gt;
Changing password for user centos.&lt;br /&gt;
New password: &amp;lt;パスワード入力&amp;gt;&lt;br /&gt;
Retype new password: &amp;lt;パスワード再入力&amp;gt;&lt;br /&gt;
passwd: all authentication tokens updated successfully.&lt;br /&gt;
# gpasswd -a centos wheel&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;sudo権限の付与:130a6ce433fd353093f8e4a56dec5622&#34;&gt;sudo権限の付与&lt;/h2&gt;

&lt;p&gt;管理者アカウントにsudo権限を付与します。以下ではcentosにROOT関連のコマンドとSHUTDOWN関連のコマンド以外のすべてのコマンドの実行権限を付与しています。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# visudo -f /etc/sudoers.d/wheel&lt;br /&gt;
Cmnd_Alias ROOT = /bin/su, /usr/bin/sudo&lt;br /&gt;
Cmnd_Alias SHUTDOWN = /sbin/halt, /sbin/shutdown, /sbin/poweroff, /sbin/reboot, /sbin/fastboot, /sbin/init&lt;br /&gt;
%wheel  ALL=(ALL)       ALL,!ROOT,!SHUTDOWN&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;rootのログアウトと管理者アカウントでログイン:130a6ce433fd353093f8e4a56dec5622&#34;&gt;rootのログアウトと管理者アカウントでログイン&lt;/h2&gt;

&lt;p&gt;管理者アカウントを作成してsudoが使えるようになったので、rootアカウントをログアウトして管理者アカウントでログインし直します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;# exit&lt;br /&gt;
logout&lt;br /&gt;
＜省略＞&lt;br /&gt;
login: centos&lt;br /&gt;
Password:&lt;br /&gt;
[centos@&amp;lt;ホスト名&amp;gt; ~]$&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;以降の手順では、管理者アカウントのプロンプトを&lt;code&gt;$&lt;/code&gt;で表現します。&lt;/p&gt;

&lt;h2 id=&#34;rootアカウントの無効化:130a6ce433fd353093f8e4a56dec5622&#34;&gt;rootアカウントの無効化&lt;/h2&gt;

&lt;p&gt;すべての作業は管理者アカウントで行うため、rootアカウントを無効化します。※シリアルコンソールからもrootでログインできなくなりますので、設定する際は慎重に行ってください。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo passwd -l root&lt;br /&gt;
[sudo] password for centos:&lt;br /&gt;
Locking password for user root.&lt;br /&gt;
passwd: Success&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;root宛てメールの転送:130a6ce433fd353093f8e4a56dec5622&#34;&gt;root宛てメールの転送&lt;/h2&gt;

&lt;p&gt;root宛てに届くメールを管理者アカウントに転送するように設定します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo vi /etc/aliases&lt;br /&gt;
root:           centos&lt;br /&gt;
$ sudo newaliases&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;firewalldの設定:130a6ce433fd353093f8e4a56dec5622&#34;&gt;Firewalldの設定&lt;/h2&gt;

&lt;p&gt;Firewalldを使用して不要な通信を拒否するように設定します。&lt;/p&gt;

&lt;h3 id=&#34;firewalldのインストール:130a6ce433fd353093f8e4a56dec5622&#34;&gt;Firewalldのインストール&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo yum -y install firewalld&lt;br /&gt;
$ sudo systemctl start firewalld&lt;br /&gt;
$ sudo systemctl enable firewalld&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;firewalldの設定確認:130a6ce433fd353093f8e4a56dec5622&#34;&gt;Firewalldの設定確認&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo firewall-cmd --get-active-zones&lt;br /&gt;
$ sudo firewall-cmd --list-all-zones&lt;br /&gt;
$ sudo firewall-cmd --get-services&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;firewalldの初期設定:130a6ce433fd353093f8e4a56dec5622&#34;&gt;Firewalldの初期設定&lt;/h3&gt;

&lt;!---
デフォルトゾーンをdropに変更します。

&gt; $ sudo firewall-cmd \-\-set-default-zone=drop  
&gt; $ sudo firewall-cmd \-\-get-default-zone  -
--&gt;

&lt;p&gt;eth0のゾーンをpublicに変更します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo firewall-cmd --zone=public --change-interface=eth0&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;publicゾーンで不要なサービスを無効化します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo firewall-cmd --permanent --zone=public --remove-service=ssh&lt;br /&gt;
$ sudo firewall-cmd --permanent --zone=public --remove-service=dhcpv6-client&lt;br /&gt;
$ sudo firewall-cmd --reload&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;設定の確認&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo firewall-cmd --zone=public --list-all&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;selinuxの無効化:130a6ce433fd353093f8e4a56dec5622&#34;&gt;SELinuxの無効化&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo setenforce Permissive&lt;br /&gt;
$ sudo getenforce&lt;/p&gt;

&lt;p&gt;$ sudo vi /etc/selinux/config&lt;br /&gt;
SELINUX=enforcing&lt;br /&gt;
↓変更&lt;br /&gt;
SELINUX=permissive&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;ipv6の無効化:130a6ce433fd353093f8e4a56dec5622&#34;&gt;IPv6の無効化&lt;/h2&gt;

&lt;p&gt;IPv6を無効化します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1&lt;br /&gt;
$ sudo sysctl -w net.ipv6.conf.default.disable_ipv6=1&lt;br /&gt;
$ sudo sysctl -a | grep disable_ipv6&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;上記のコマンドではシステムを再起動した場合にIPv6が有効になってしまうため、再起動しても無効になるように設定します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo vi /etc/sysctl.d/10-disableipv6.conf&lt;br /&gt;
net.ipv6.conf.all.disable_ipv6=1&lt;br /&gt;
net.ipv6.conf.default.disable_ipv6=1&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;postfixのipv6無効化:130a6ce433fd353093f8e4a56dec5622&#34;&gt;PostfixのIPv6無効化&lt;/h3&gt;

&lt;p&gt;IPv6の無効化に併せてPostfixもIPv6を無効化します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo vi /etc/postfix/main.cf&lt;br /&gt;
#inet_protocols = all&lt;br /&gt;
inet_protocols = ipv4&lt;br /&gt;
$ sudo systemctl restart postfix&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;ntpの時刻同期:130a6ce433fd353093f8e4a56dec5622&#34;&gt;NTPの時刻同期&lt;/h2&gt;

&lt;p&gt;chronyにより時刻同期を行うように設定します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo yum -y install chrony&lt;br /&gt;
$ sudo vi /etc/chrony.conf&lt;br /&gt;
#server 0.centos.pool.ntp.org iburst&lt;br /&gt;
#server 1.centos.pool.ntp.org iburst&lt;br /&gt;
#server 2.centos.pool.ntp.org iburst&lt;br /&gt;
#server 3.centos.pool.ntp.org iburst&lt;br /&gt;
server ntp.nict.jp iburst&lt;br /&gt;
server ntp.jst.mfeed.ad.jp iburst&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;chronydを起動します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo systemctl start chronyd&lt;br /&gt;
$ sudo systemctl enable chronyd&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;時刻の同期状況を確認するには以下のコマンドを実行します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ chronyc sources&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;不要サービスの停止:130a6ce433fd353093f8e4a56dec5622&#34;&gt;不要サービスの停止&lt;/h2&gt;

&lt;p&gt;セキュリティのため、サーバのリソースのために不要サービスを停止します。お名前.comのVPS(KVM)には共用SSH経由のシリアルコンソールでログインするため、SSHを停止しています。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo systemctl list-units --type=service&lt;br /&gt;
$ sudo systemctl stop sshd&lt;br /&gt;
$ sudo systemctl disable sshd&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;logwatchのインストール:130a6ce433fd353093f8e4a56dec5622&#34;&gt;logwatchのインストール&lt;/h2&gt;

&lt;p&gt;logwatchをインストールします。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo yum -y install logwatch&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;logwatchの実行結果を確認します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sudo logwatch --output stdout&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;以上、初期設定は終了となります。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>囲碁・将棋の思考エンジンの覚え書き</title>
      <link>http://www.shinayoshi.net/post/2015/10/31/igo-shogi-program/</link>
      <pubDate>Sat, 31 Oct 2015 12:09:15 +0900</pubDate>
      
      <guid>http://www.shinayoshi.net/post/2015/10/31/igo-shogi-program/</guid>
      <description>

&lt;p&gt;囲碁・将棋の思考エンジンは以下が有名らしい。
よく忘れるので覚え書きとして残しておく。&lt;/p&gt;

&lt;p&gt;実際に使用したことはないため、使用方法や強さはわかりません。あしからず。&lt;/p&gt;

&lt;h2 id=&#34;囲碁の思考エンジン:a0d1e30c95d0ce93df0972286458f7bf&#34;&gt;囲碁の思考エンジン&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://pachi.or.cz&#34;&gt;Pachi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://fuego.sourceforge.net&#34;&gt;Fuego&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.gnu.org/software/gnugo/download.html&#34;&gt;GNU Go&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;将棋の思考エンジン:a0d1e30c95d0ce93df0972286458f7bf&#34;&gt;将棋の思考エンジン&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.geocities.jp/bonanza_shogi/&#34;&gt;Bonanza&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://hiraokatakuya.github.io/apery/&#34;&gt;Apery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://gps.tanaka.ecc.u-tokyo.ac.jp/gpsshogi/&#34;&gt;GPSshogi&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;将棋guiソフト:a0d1e30c95d0ce93df0972286458f7bf&#34;&gt;将棋GUIソフト&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.geocities.jp/shogidokoro/index.html&#34;&gt;将棋所&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>hugo始めました</title>
      <link>http://www.shinayoshi.net/post/2015/09/06/first-post/</link>
      <pubDate>Sun, 06 Sep 2015 16:43:36 +0900</pubDate>
      
      <guid>http://www.shinayoshi.net/post/2015/09/06/first-post/</guid>
      <description>&lt;p&gt;Hugoでブログ始めました。&lt;/p&gt;

&lt;p&gt;本ブログでは私が得た技術的な知識・経験を投稿していく予定です。&lt;/p&gt;

&lt;p&gt;今後ともよろしくお願いします。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>