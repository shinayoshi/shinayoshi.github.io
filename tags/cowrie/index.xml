<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>cowrie on shinayoshi&#39;s note</title>
    <link>https://www.shinayoshi.net/tags/cowrie/</link>
    <description>Recent content in cowrie on shinayoshi&#39;s note</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>Copyright (c) 2019 shinayoshi</copyright>
    <lastBuildDate>Tue, 16 Aug 2016 18:59:00 +0900</lastBuildDate><atom:link href="https://www.shinayoshi.net/tags/cowrie/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Cowrieのセキュリティ設定</title>
      <link>https://www.shinayoshi.net/post/2016/08/16/security-setting-on-cowrie/</link>
      <pubDate>Tue, 16 Aug 2016 18:59:00 +0900</pubDate>
      
      <guid>https://www.shinayoshi.net/post/2016/08/16/security-setting-on-cowrie/</guid>
      <description>前回まででCowrieのインストールやKippo-Graphでの可視化を行った。 Cowrieを使用するにあたり追加でやっておきたいセキュリティ設定をメモする。
IPv6の無効化 IPv6は使用しないため、IPv6を無効化する。
$ sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1 $ sudo sysctl -w net.ipv6.conf.default.disable_ipv6=1 $ sudo sysctl -a | grep disable_ipv6 再起動後もIPv6が無効化するように設定する。
$ sudo vi /etc/sysctl.d/10-disableipv6.conf net.ipv6.conf.all.disable_ipv6=1 net.ipv6.conf.default.disable_ipv6=1 SELinuxの無効化 Raspbian(Jessie)ではデフォルトでSELinuxが使えないようなので、特にやることなし。
iptablesの設定 iptablesでfirewallを設定する。
#Cowrieポートのポートフォワード(別手順で設定済み) #$ sudo iptables -t nat -A PREROUTING -p tcp --dport 22 -j REDIRECT --to-port 2222 ##INPUTチェーン #IPスプーフィング対策 $ sudo iptables -A INPUT -p tcp --tcp-flags SYN,ACK SYN,ACK -m state --state NEW -j REJECT --reject-with tcp-reset #セッションハイジャック対策 $ sudo iptables -A INPUT -p tcp !</description>
    </item>
    
    <item>
      <title>Kippo-GraphをインストールしてCowrieのログを可視化する</title>
      <link>https://www.shinayoshi.net/post/2016/08/16/install-kippo-graph/</link>
      <pubDate>Tue, 16 Aug 2016 08:43:57 +0900</pubDate>
      
      <guid>https://www.shinayoshi.net/post/2016/08/16/install-kippo-graph/</guid>
      <description>Kippo-Graphの公式(Kippo-Graph - BruteForce Lab&amp;rsquo;s Blog)を参考にKippo-Graphをインストールするまでのメモです。
MySQLのインストールと初期設定 MySQLをインストールする。
インストール途中でMySQLのrootアカウントのパスワードを求められるので、適宜設定する。
$ sudo apt-get update $ sudo apt-get install mysql-server MySQLのセキュア設定
$ mysql_secure_installation NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY! In order to log into MySQL to secure it, we&#39;ll need the current password for the root user. If you&#39;ve just installed MySQL, and you haven&#39;t set the root password yet, the password will be blank, so you should just press enter here.</description>
    </item>
    
    <item>
      <title>Raspbian(Jessie)にCowrieをインストールする</title>
      <link>https://www.shinayoshi.net/post/2016/08/15/install-cowrie-on-raspbian/</link>
      <pubDate>Mon, 15 Aug 2016 20:46:34 +0900</pubDate>
      
      <guid>https://www.shinayoshi.net/post/2016/08/15/install-cowrie-on-raspbian/</guid>
      <description>Raspbian(jessie)にCowrieをインストールしてSSHハニーポットを構築するメモです。 はじめはKippoを使用する予定だったのですが、Kippoの改良版であるCowrieを使用することにしました。
個人のメモですので、もし本メモを参考にハニーポットを構築する際は自己責任でお願いします。
Raspbianの初期設定 Raspbianの初期設定として以下を行いました。
パッケージの最新化 $ sudo apt-get update $ sudo apt-get upgrade IPアドレスの固定化 $ sudo vi /etc/dhcpcd.conf #Add the following line interface eth0 static ip_address=192.168.10.10/24 static routers=192.168.10.254 static domain_name_servers=192.168.100.1 #static domain_name= #static domain_search= NTP設定 NTP同期先を設定する。
$ sudo vi /etc/ntp.conf #Add the line server ntp.nict.jp iburst server ntp.jst.mfeed.ad.jp iburst # comment out #server 0.debian.pool.ntp.org iburst #server 1.debian.pool.ntp.org iburst #server 2.debian.pool.ntp.org iburst #server 3.debian.pool.ntp.org iburst NTPサーバを再起動する。
$ sudo systemctl restart ntp 時刻同期の状態を確認する。</description>
    </item>
    
  </channel>
</rss>
